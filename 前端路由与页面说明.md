# 大信体育 Golf Coach 前端路由与页面导航指南

本文档旨在说明 `golf_coach_frontend` 项目的页面路由结构、对应的组件以及页面内的主要跳转逻辑。

## 1. 路由与页面映射表

| 路由路径 (Route Path) | 页面组件 (Page Component) | 功能描述 (Description) | 备注 |
| :--- | :--- | :--- | ---- |
| `/login` | `/auth/LoginPage` | 用户登录页面 |
| `/register` | `/auth/RegisterPage` | 用户注册页面 |  |
| `/students` | `/management/StudentsPage` | **主入口**：学员管理列表，显示所有学员 |  |
| `/student/:id` | `/home/HomePage` | **学员工作台**：显示特定学员的概览和各项评估入口 |  |
| `/student/:userid/skills-report` | `/reports/SkillsReportPage` | 技能测评历史记录列表 |  |
| `/student/:userid/physical-report` | `/reports/PhysicalReportPage` | 体能测评历史记录列表 |  |
| `/student/:userid/mental-report` | `/reports/MentalReportPage` | 心理测评历史记录列表 |  |
| `/skills-report/:assessmentid` | `/reports/SkillsReportDetailPage` | 技能测评详细报告展示 |  |
| `/physical-report/:assessmentid` | `/reports/PhysicalReportDetailPage` | 体能测评详细报告展示 |  |
| `/mental-report/:assessmentid` | `/reports/MentalReportDetailPage` | 心理测评详细报告展示 |  |
| `/three-d` | `/reports/ThreeDPage` | 3D 评估/扫描功能页面 |  |
| `/profile` | `/management/ProfilePage` | 教练/个人资料页面 |  |
| `/settings` | `/management/SettingsPage` | 系统设置页面 |  |
| `/basic-info` | `/management/BasicInfoPage` | 添加新学员时填写基本信息的页面 |  |
| `/assessment-type` | `/assessment/AssessmentTypeSelectionPage` | 选择测评模式（完整测评或单项测评） | 停用 |
| `/single-assessment` | `/assessment/SingleAssessmentSelectionPage` | 选择具体的单项测评类别 | 停用 |
| `/add-record/...` | `/assessment/AddRecordPage` | **核心录入页**：包含数据采集、诊断、方案和目标制定的多步骤流程 |  |
| `/new-assessment` | `/assessment/NewAssessmentPage` | 新建测评任务，填写基本备注信息 | 停用 |
| `/ai-report` | `/reports/AIReportPage` | AI 生成的综合诊断报告 |  |
| `/add-record/physical/Xxx` | `/components/add-record/PhysicalXxxxPage` | 身体测评各项录入页面 |  |
| `/add-record/mental/Xxx` | `/components/add-record/MentalXxxxPage` | 心理测评各项录入页面 |  |
| `/add-record/Skill/Xxx` | `/components/add-record/SkillXxxxPage` | 技能测评各项录入页面 |  |

---

## 2. 核心页面跳转逻辑

### 2.1 全局底部导航 (`BottomNav`)
底部导航栏在大多数主页面可见，提供快速切换功能：
- **学员管理图标** -> 跳转至 `/students`
- **中间 3D 图标** -> 跳转至 `/three-d`
- **个人资料图标** -> 跳转至 `/profile`

### 2.2 学员管理页 (`StudentsPage`)
- **点击学员卡片**：跳转至该学员的工作台 `/student/:userid`。
- **点击右上角“添加”按钮**：跳转至 `/basic-info` 开始添加新学员流程。

### 2.3 新学员添加流程 (`BasicInfoPage`)
- **填写信息并保存**：创建学员成功后，通常跳转至该学员的工作台 `/student/:userid`。

### 2.4 学员工作台 (`HomePage`)
- **返回按钮**：返回学员列表 `/students`。
- **体能测评卡片**：跳转至 `/student/:userid/physical-report`。
- **心理测评卡片**：跳转至 `/student/:userid/mental-report`。
- **技能测评卡片**：跳转至 `/student/:userid/skills-report`。

### 2.5 报告历史页 (如 `PhysicalReportPage`)
- **返回按钮**：返回学员工作台 `/student/:userid`。
- **点击历史记录中已完成的报告卡片**：跳转至对应的详情报告页，如 `/physical-report/:assessmentid`。
- **点击历史记录中待处理的报告卡片**：跳转至对应的修改报告页，如 `/add-record/physical/goals`。
- **点击“新增记录”按钮**：
  - 体能：跳转至 `/add-record/physical/data`
  - 心理：跳转至 `/add-record/mental/data`
  - 技能：跳转至 `/add-record/technique/data`

### 2.6 测评录入流程 (`AddRecordPage`)
该页面是一个复杂的多步骤表单，内部通过二级导航切换：
1. **数据采集 (Data)** -> 填写 Styku/Trackman/心理原始数据。路由是`/add-record/xxx/data`
2. **诊断 (Diagnosis)** -> 基于数据进行专业诊断。路由是`/add-record/xxx/diagnosis`
3. **训练方案 (Plan)** -> 制定针对性的训练计划。路由是`/add-record/xxx/plan`
4. **目标制定 (Goal)** -> 设定阶段性目标。路由是`/add-record/xxx/goal
- **完成/保存**：保存数据并通常返回至对应的报告历史页。

---

## 3. 路由参数说明

- `:userid`：在 `/student/:userid` 中代表学员的唯一标识符。
- 在报告详情页（如 `/physical-report/:assessmentid`）中，`:assessmentid` 代表该次测评记录的唯一标识符。

## 4. 开发注意事项

- 路由定义位于 `src/router/AppRoute.jsx`。
- 权限控制通过 `PrivateRoute` 组件实现，未登录用户访问受限页面会自动重定向至 `/login`。
- 页面间的状态传递（如选中的学员信息）部分通过 `App.jsx` 的全局状态管理，部分通过路由 `state` 传递。
