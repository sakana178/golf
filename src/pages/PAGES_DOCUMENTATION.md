# Pages 文件夹完整文档（大白话解释）

## 目录结构
pages/ 文件夹包含6个子目录，每个目录代表应用的一个功能模块。

---

## 📋 assessment/ - 测评模块（最复杂的模块）

### AddRecordPage.jsx
**作用**：添加测评记录的主页面，这是整个测评流程的核心控制枢纽
**核心逻辑**：
- 显示一级导航（身体/心理/技能 3个选项卡）
- 显示二级导航（数据采集/诊断/方案/目标 4个步骤）
- 左侧是选项卡，点击不同选项卡可以在3种测评类型之间切换
- 上面是步骤条，显示当前进行到哪一步
- 根据用户选择动态显示对应的组件（PhysicalData/MentalData等）
- 当用户点保存，自动跳到下一步，或跳到下一类型
- 完成所有测评后显示"生成AI报告"按钮

**大白话**：就像一个多步骤表单，用户在3个大类别之间选择，每个类别有4个小步骤，每步都需要填表，最后生成综合报告。

---

### AssessmentTypeSelectionPage.jsx
**作用**：选择测评模式（完整测评 vs 单项测评）
**核心逻辑**：
- 显示两个大卡片：
  1. 完整测评 - 依次做3种测评（推荐）
  2. 单项测评 - 只做其中1种
- 用户选择后进入对应的配置页面

**大白话**：这是测评前的第一步选择，"我要全面测评还是只测某一项？"

---

### NewAssessmentPage.jsx
**作用**：完整测评的初始化页面
**核心逻辑**：
- 用户选择"完整测评"后来到这个页面
- 用户填写测评日期、时间、备注
- 点"开始"后会进入 AddRecordPage，并设置 mode='complete'
- 自动读取当前时间作为默认值

**大白话**：填写测评的基本信息（什么时候测、有什么备注），然后开始正式测评。

---

### SingleAssessmentSelectionPage.jsx
**作用**：单项测评的初始化页面，选择要测评哪一项
**核心逻辑**：
- 显示3个卡片让用户选择：身体/心理/技能
- 用户选择后填写日期、时间、备注
- 进入 AddRecordPage，设置 mode='single' 和对应的 type

**大白话**：用户决定"我只想测身体素质"或"我只想测技能"，然后填写基本信息。

---

### DataCollectionPage.jsx ✅ （已加注释）
**作用**：数据采集步骤的路由分发页面
**核心逻辑**：
- 接收URL参数 type（physical/mental/skills）
- 根据type渲染对应的组件（PhysicalData/MentalData/SkillsData）
- 如果type不匹配则显示错误

**大白话**：根据"我选的是什么测评"来决定显示哪个数据输入表单。

---

### DiagnosisPage.jsx ✅ （已加注释）
**作用**：诊断步骤的路由分发页面
**核心逻辑**：
- 同 DataCollectionPage，但显示的是诊断组件
- 根据type渲染 PhysicalDiagnosis/MentalDiagnosis/SkillsDiagnosis

**大白话**：根据"我选的是什么测评"来决定显示哪个诊断表单。

---

### GoalSettingPage.jsx ✅ （已加注释）
**作用**：目标制定步骤的路由分发页面
**核心逻辑**：
- 同上，但显示的是目标制定组件
- 每种类型有不同的标题（身体素质目标/心理素质目标/技能目标）

**大白话**：根据"我选的是什么测评"来决定显示哪个目标设置表单。

---

### TrainingPlanPage.jsx ✅ （已加注释）
**作用**：训练方案步骤的路由分发页面
**核心逻辑**：
- 同上，但显示的是训练方案组件
- 根据type渲染对应的训练计划表单

**大白话**：根据测评结果，为用户制定相应的训练计划。

---

## 🔐 auth/ - 认证模块

### LoginPage.jsx
**作用**：用户登录页面
**核心逻辑**：
- 用户选择身份（教练/顾问）
- 输入账号密码
- 可以选择使用后端真实登录或前端开发模式（跳过验证）
- 登录成功后跳转到主页

**大白话**：输入用户名和密码登录，可以选择"跳过"快速进入调试。

---

### RegisterPage.jsx
**作用**：新用户注册页面
**核心逻辑**：
- 填写账号、手机、邮箱、密码
- 选择身份（教练/家长/学员/助教）
- 验证两次密码一致
- 注册成功后跳转登录

**大白话**：创建新账号。

---

## 🛠️ hardware/ - 硬件集成模块

### StykuScanPage.jsx
**作用**：Styku 3D身体扫描数据页面
**核心逻辑**：
- 显示"接收数据"按钮，模拟从Styku硬件接收数据
- 点击后显示加载动画，2秒后填充默认数据
- 显示3D模型的可视化
- 用户可以手动编辑各项测量数据：
  - 身高、体重、坐高、BMI
  - 躯干（胸围/腰围/臀围）
  - 上肢（上臂/前臂）
  - 下肢（大腿/小腿）

**大白话**：这个页面连接Styku 3D扫描仪，显示和编辑学员的身体测量数据。

---

### TrackManPage.jsx
**作用**：TrackMan挥杆数据页面
**核心逻辑**：
- 显示"同步数据"按钮，从后端API获取最新TrackMan数据
- 显示加载动画，获取成功后填充数据
- 分成三层显示数据：
  1. **A层（球路核心）**：球速、发射角、旋转速率、飞行距离等
  2. **B层（击球效率）**：杆速、攻击角、杆面角度、动态角等
  3. **C层（深度分析）**：低点、碰撞偏移、指标等
- 用户可手动编辑所有数据

**大白话**：这个页面连接TrackMan弹道仪，显示和编辑学员的挥杆数据（分成初级/中级/高级三个层次）。

---

## 🏠 home/ - 主页模块

### HomePage.jsx
**作用**：学员评估工作台，这是登录后的主页面
**核心逻辑**：
- 显示选中的学员信息（姓名、年龄、性别、高尔夫年限）
- 显示学员的历史记录和核心目标
- 显示测评进度条（75%）
- 显示3个大卡片快速入口：
  - 体能报告（STYKU 3D DATA）
  - 心理报告（MENTAL STABILITY）
  - 技能报告（TRACKMAN PARAMETERS）
- 底部有"开始新测评"大按钮

**大白话**：这是登录后看到的主工作台，可以看到学员信息、历史进度，还有快速进入各种报告的入口。

---

## ⚙️ management/ - 管理模块

### BasicInfoPage.jsx
**作用**：学员基本信息录入页面
**核心逻辑**：
- 第一部分：基础资料
  - 姓名（支持语音输入）
  - 性别（下拉选择）
  - 年龄
  - 训练历史（文本框，支持语音）
- 第二部分：深度背景
  - 高尔夫年限和频率（文本）
  - 训练目标（文本）
  - 身体局限（红色标记，医学条件）
- 每个文本框都有麦克风按钮支持语音输入

**大白话**：录入学员的基本信息和背景，可以用语音快速填写。

---

### ProfilePage.jsx
**作用**：用户个人中心页面
**核心逻辑**：
- 显示当前登录用户信息（头像、用户名、身份标签）
- 显示统计数据：
  - 教过的学员数
  - 生成的训练方案数
  - 活跃小时数
- 两个菜单组：
  1. 核心功能：消息中心、订阅、团队协作
  2. 系统管理：设置、安全、帮助
- 底部退出登录按钮

**大白话**：个人中心，显示用户信息和各种快捷菜单。

---

### SettingsPage.jsx
**作用**：系统设置页面
**核心逻辑**：
- 显示一个下拉菜单：语言选择（中文/English）
- 选择后立即更新整个应用的语言

**大白话**：简单的设置页面，目前只有语言切换功能。

---

### StudentsPage.jsx
**作用**：学员列表管理页面
**核心逻辑**：
- 显示所有学员的卡片列表
- 每个卡片显示：
  - 学员头像（首字母缩写）
  - 姓名、学号
  - 性别、年龄、是否有历史记录
- 点击卡片可选择学员进入评估工作台
- 有"+"按钮添加新学员
- 没有学员时显示"暂无学员"提示

**大白话**：显示所有学员列表，选择要评估的学员。

---

## 📊 reports/ - 报告模块

### AIReportPage.jsx
**作用**：AI智能分析报告页面，这是最关键的报告页面
**核心逻辑**：
- 首先显示加载动画（2秒），"正在生成AI智能报告"
- 生成完成后显示：
  1. **标题区**：报告标题、学员名称、测评日期
  2. **综合评分**：显示总分（78/100）
  3. **AI总结**：根据测评类型（完整/单项）显示不同的总结文本
  4. **三维评估**：
     - 身体素质（评分75）+ 优势/劣势/建议
     - 心理素质（评分82）+ 优势/劣势/建议
     - 技能水平（评分77）+ 优势/劣势/建议
  5. **训练重点**：根据评分显示高/中/低优先级的训练项目
  6. **预期目标**：短期/中期/长期目标
- 支持分享和下载
- 根据测评模式动态生成内容（单项/完整）

**大白话**：综合报告，用AI分析学员的测评数据，分成三个维度评分和建议，很漂亮！

---

### PhysicalReportPage.jsx
**作用**：体能测评历史记录页面
**核心逻辑**：
- 显示过往的体能测评记录列表
- 每条记录显示：日期、标题、状态（完成/待定）
- 可以查看历史记录或添加新记录
- 有"添加新记录"按钮

**大白话**：查看以前做过的体能测评记录。

---

### MentalReportPage.jsx
**作用**：心理测评历史记录页面
**核心逻辑**：同 PhysicalReportPage，但是心理测评的历史记录

**大白话**：查看以前做过的心理测评记录。

---

### SkillsReportPage.jsx
**作用**：技能测评历史记录页面
**核心逻辑**：同上，但是技能测评的历史记录

**大白话**：查看以前做过的技能测评记录。

---

### ReportPage.jsx
**作用**：完整的文字报告页面
**核心逻辑**：
- 显示学员的完整测评报告（不是AI报告）
- 包含：
  1. 学员基本信息（名字、性别、年龄）
  2. Styku身体数据摘要（胸围/腰围/大腿围等）
  3. TrackMan挥杆数据摘要（球速/发射角/距离等）
  4. 技术诊断摘要
  5. 训练方案摘要
- 可以重置开始新的测评

**大白话**：详细的文字版测评报告，包含所有测评数据和方案。

---

### ThreeDPage.jsx
**作用**：3D卡通人物选择页面（很有意思！）
**核心逻辑**：
- 中间显示一个大的3D卡通人物（有旋转、浮动等动画）
- 15个不同的卡通形象可选：智高星、钢铁挥杆、闪电球手等
- 点击中间的圆形可以打开选择器
- 选择器是一个弹出式菜单，显示所有15个人物
- 可以给选中的人物赋予旋转、浮动、脉冲等不同的动画

**大白话**：选择一个卡通人物代表学员身份，每个人物有不同的性格和动画效果。

---

## 🎯 总体页面流程图

```
登录 (LoginPage)
  ↓
学员列表 (StudentsPage)
  ↓
选择学员 → 主页 (HomePage)
  ↓
开始测评
  ├─→ 选择测评模式 (AssessmentTypeSelectionPage)
  │    ├─→ 完整测评 (NewAssessmentPage)
  │    │    ↓
  │    │    数据采集(物/心/技) → 诊断 → 方案 → 目标
  │    │    ↓
  │    │    下一个类型... (重复3次)
  │    │    ↓
  │    │    AI报告 (AIReportPage)
  │    │
  │    └─→ 单项测评 (SingleAssessmentSelectionPage)
  │         ↓
  │         数据采集 → 诊断 → 方案 → 目标
  │         ↓
  │         AI报告 (AIReportPage)
  │
  └─→ 查看历史报告
       ├─→ 体能报告 (PhysicalReportPage)
       ├─→ 心理报告 (MentalReportPage)
       └─→ 技能报告 (SkillsReportPage)
```

---

## 💡 关键概念解释

### 一级导航 vs 二级导航
- **一级导航**：3个大类别（身体/心理/技能）- 用步骤圈显示
- **二级导航**：4个步骤（数据采集/诊断/方案/目标）- 用选项卡显示

### 单项 vs 完整测评
- **单项测评**：只做某一个大类别的完整4步流程
- **完整测评**：做所有3个大类别，每个都要走完4步

### 数据流向
1. 数据采集 → 用户输入数据
2. 诊断 → 教练给出诊断意见
3. 训练方案 → 根据诊断制定方案
4. 目标设置 → 设定各阶段目标
5. AI报告 → 系统综合生成

---

## 🔧 开发建议

1. **大多数assessment页面是路由分发器**，接收URL参数后渲染不同组件
2. **AddRecordPage是核心枢纽**，控制整个测评流程的导航逻辑
3. **每个页面都支持国际化**（t() 函数），需要在i18n文件中维护翻译
4. **使用 motion 库做动画**，make smooth transitions
5. **数据通过 prop 传递**，主要是 recordData 和 updateRecordData

---

这样应该对每个文件的作用和逻辑有了清晰的理解了！
