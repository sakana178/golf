/**
 * Components CSS - 组件样式
 * 包含卡片、容器、图标容器等组件样式
 */

@layer components {

  /* ========================
   * 优化后的报告卡片设计
   * ======================== */

  /* 报告卡片容器 - 参考深色渐变设计 */
  .report-card-optimized {
    @apply relative rounded-2xl sm:rounded-[32px] overflow-hidden shadow-2xl transition-all duration-500 border;
    background: linear-gradient(180deg, #1a2132, #111726);
    border-color: rgba(255, 215, 100, 0.15);
    box-shadow: 0 0 0 1px rgba(255, 215, 100, 0.15), 0 20px 60px rgba(0, 0, 0, 0.6);
  }

  .report-card-optimized:hover {
    border-color: rgba(255, 215, 100, 0.3);
    box-shadow: 0 0 0 1px rgba(255, 215, 100, 0.3), 0 25px 70px rgba(0, 0, 0, 0.7);
  }

  /* 报告卡片头部 - 带图标和标题 */
  .report-card-header-optimized {
    @apply flex justify-between items-start p-4 sm:p-6 pb-3 sm:pb-4;
  }

  /* 报告卡片头部左侧 - 图标容器 */
  .report-card-icon-container {
    @apply w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-2xl bg-[#d4af37]/10 flex items-center justify-center text-[#d4af37] flex-shrink-0 border border-[#d4af37]/20;
  }

  /* 报告卡片标题 */
  .report-card-title-optimized {
    @apply text-lg sm:text-xl md:text-2xl font-bold text-white uppercase tracking-tight truncate drop-shadow-md;
  }

  /* 报告卡片子标题 */
  .report-card-subtitle {
    @apply text-[10px] sm:text-[11px] font-bold text-[#d4af37] uppercase tracking-[0.2em] opacity-60;
  }

  /* 报告卡片内容主体 */
  .report-card-content {
    @apply p-4 sm:p-6 pt-2 sm:pt-3 flex flex-col gap-4 sm:gap-6;
  }

  /* 报告顶部内容区 - 雷达图 + 指标 */
  .report-card-top-content {
    @apply flex gap-4 sm:gap-6 items-start;
  }

  /* 雷达图容器 */
  .radar-chart-wrapper {
    @apply flex-shrink-0 w-20 h-20 sm:w-24 sm:h-24 rounded-lg sm:rounded-2xl flex items-center justify-center relative;
    background: radial-gradient(circle, #1e2638, #121827);
    border: 1px solid rgba(212, 175, 55, 0.1);
  }

  /* 指标容器 */
  .report-indicators-wrapper {
    @apply flex-1 space-y-2 sm:space-y-3;
  }

  /* 单个指标 */
  .report-indicator {
    @apply space-y-1;
  }

  /* 指标标签 */
  .report-indicator-label {
    @apply text-[10px] sm:text-[11px] font-bold text-white/70 uppercase tracking-wider flex justify-between;
  }

  /* 指标值 */
  .report-indicator-value {
    @apply text-[11px] sm:text-[12px] font-bold text-white/60;
  }

  /* 进度条背景 */
  .progress-bar-bg {
    @apply h-1.5 sm:h-2 w-full rounded-full overflow-hidden;
    background: #2a3248;
  }

  /* 进度条填充 - 黄金渐变 */
  .progress-bar-fill {
    @apply h-full rounded-full transition-all duration-1000;
    background: linear-gradient(90deg, #f5d36a, #d4a82f);
    box-shadow: 0 0 12px rgba(255, 215, 120, 0.6);
  }

  /* 报告卡片底部 - 波浪线容器 */
  .report-card-bottom {
    @apply relative pt-3 sm:pt-4 border-t border-white/5;
  }

  /* 波浪线SVG */
  .wave-line {
    @apply w-full h-12 sm:h-16;
  }

  /* 波浪线路径 */
  .wave-line-path {
    fill: none;
    stroke: #f5d36a;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  /* 底部指示器区域 */
  .report-bottom-indicator {
    @apply flex items-center gap-2 mt-2 sm:mt-3;
  }

  /* 指示器条 */
  .indicator-bar {
    @apply h-1.5 sm:h-2 flex-1 rounded-full overflow-hidden;
    background: #26304a;
  }

  /* 指示器条填充 */
  .indicator-bar-fill {
    @apply h-full rounded-full transition-all duration-1000;
    background: linear-gradient(90deg, #5cc7ff, #3a8fdc);
    box-shadow: 0 0 10px rgba(80, 180, 255, 0.7);
  }

  /* =========================
   * Report Detail Pages
   * ========================= */

  .report-detail-page {
    @apply min-h-screen text-white p-4 sm:p-6 pb-24 relative overflow-x-hidden bg-transparent;
  }

  .report-detail-header {
    @apply relative z-10 mb-8 sm:mb-12 flex items-center gap-3;
  }

  .report-detail-title {
    @apply title-workbench flex-1 min-w-0;
  }

  .report-detail-content {
    @apply relative z-10 max-w-md mx-auto;
  }

  .report-loading {
    @apply min-h-screen flex items-center justify-center bg-transparent;
  }

  .report-loading-spinner {
    @apply animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#d4af37];
  }

  .report-empty {
    @apply min-h-screen flex flex-col items-center justify-center bg-transparent text-white p-6;
  }

  .report-empty-title {
    @apply text-lg font-bold mb-6;
  }

  .report-empty-btn {
    @apply px-6 py-3 rounded-2xl bg-white/10 border border-white/20 hover:bg-white/20 transition-all;
  }

  /* Section wrapper (keeps spacing consistent across report pages) */
  .report-section {
    @apply mb-10;
  }

  /* Shared “glass” container used by report cards */
  .report-card {
    @apply border border-[#d4af37]/20 rounded-2xl sm:rounded-[32px] overflow-hidden shadow-lg transition-all duration-300;
    background-color: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .report-card:hover {
    @apply border-[#d4af37]/40;
  }

  /* Report list card (goals/diagnosis/assessment lists) */
  .report-list-item {
    @apply relative;
  }

  .report-list-item-body {
    @apply p-6 relative z-10;
  }

  .report-list-row {
    @apply flex items-start gap-4;
  }

  .report-bullet {
    @apply mt-1.5 w-1.5 h-1.5 rounded-full bg-[#d4af37] shrink-0;
    box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
  }

  .report-list-hover-bg {
    @apply absolute inset-0 bg-white/[0.02] opacity-0 group-hover:opacity-100 transition-opacity duration-500;
  }

  .report-list-divider {
    @apply mx-6 h-[1px] bg-gradient-to-r from-transparent via-white/10 to-transparent;
  }

  .report-item-title {
    @apply text-[13px] font-bold text-[#d4af37] mb-2 uppercase tracking-widest;
  }

  .report-item-text {
    @apply text-white/70 text-sm leading-relaxed font-light;
  }

  .report-item-header-row {
    @apply flex items-center justify-between gap-3 mb-2;
  }

  .report-item-badge {
    @apply text-[11px] px-2.5 py-1 rounded-full bg-white/10 border border-white/20 text-[#d4af37] font-bold;
  }

  /* Metrics */
  .report-metrics-grid {
    @apply grid grid-cols-1 gap-3 sm:gap-4;
  }

  .report-metric-card {
    @apply p-4 sm:p-6 border border-[#d4af37]/20 rounded-2xl sm:rounded-[32px] flex items-center justify-between transition-all shadow-lg;
    background-color: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .report-metric-card:hover {
    @apply border-[#d4af37]/40;
  }

  .report-metric-left {
    @apply flex items-center gap-3 sm:gap-4;
  }

  .report-metric-icon {
    @apply w-8 h-8 sm:w-10 sm:h-10 rounded-2xl bg-[#d4af37]/10 flex items-center justify-center text-[#d4af37];
  }

  .report-metric-value-row {
    @apply flex items-baseline gap-1;
  }

  /* Accordion groups (Styku/Trackman groups) */
  .report-group-card {
    @apply border border-[#d4af37]/20 rounded-2xl sm:rounded-[32px] overflow-hidden shadow-lg transition-all duration-300;
    background-color: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .report-group-card:hover {
    @apply border-[#d4af37]/40;
  }

  .report-group-toggle {
    @apply w-full flex items-center justify-between p-4 sm:p-6 active:opacity-70 transition-all;
  }

  .report-group-title-row {
    @apply flex items-center gap-3;
  }

  .report-group-title {
    @apply text-[11px] sm:text-[12px] font-black text-white/60 uppercase tracking-[0.2em];
  }

  .report-group-chevron {
    @apply w-4 h-4 text-white/20 transition-transform duration-500;
  }

  .report-group-items-grid {
    @apply px-4 sm:px-6 pb-4 sm:pb-6 grid grid-cols-2 gap-3 sm:gap-4;
  }

  .report-group-item {
    /* 对齐 styku-input-card（统一卡片视觉） */
    @apply border border-[#d4af37]/20 rounded-2xl sm:rounded-[32px] p-4 sm:p-6 shadow-lg flex flex-col transition-all duration-300;
    background-color: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .report-group-item:hover {
    @apply border-[#d4af37]/40;
  }

  /* Outlook quote card */
  .report-outlook-card {
    @apply p-7 border border-[#d4af37]/20 rounded-2xl sm:rounded-[32px] relative overflow-hidden shadow-lg transition-all duration-300;
    background-color: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .report-outlook-card:hover {
    @apply border-[#d4af37]/40;
  }

  .report-outlook-quote {
    @apply absolute -right-2 -bottom-2 w-20 h-20 text-white/[0.03] -rotate-12;
  }

  .report-outlook-text {
    @apply text-white/70 text-[15px] leading-[1.8] font-light relative z-10;
  }

  /* 报告内容卡片头部 */
  .report-content-header {
    @apply flex justify-between items-start mb-4 sm:mb-6;
  }

  /* 报告头部标题区 */
  .report-header-left {
    @apply flex items-start gap-3 flex-1;
  }

  /* 报告子标题（STYKU等） */
  .report-subtitle {
    @apply text-[10px] sm:text-[11px] font-bold text-[#d4af37] uppercase tracking-[0.2em] opacity-60;
  }

  /* 报告主标题 */
  .report-main-title {
    @apply text-lg sm:text-xl md:text-2xl font-bold text-white uppercase tracking-tight truncate;
  }

  /* 报告评级标签 */
  .report-rating-badge {
    @apply px-3 py-1 rounded-full text-[11px] sm:text-[12px] font-bold bg-[#d4af37]/10 border border-[#d4af37]/30 text-[#d4af37] flex items-center gap-1 shrink-0;
  }

  /* 报告评级指示灯 */
  .report-rating-indicator {
    @apply w-1.5 h-1.5 rounded-full bg-[#d4af37] animate-pulse;
  }

  /* 报告内容主体 */
  .report-content-body {
    @apply flex gap-4 sm:gap-6 mb-4 sm:mb-6;
  }

  /* 雷达图容器 */
  .radar-chart-container {
    @apply flex-shrink-0 w-24 h-24 sm:w-32 sm:h-32 flex items-center justify-center relative;
  }

  /* 报告指标容器 */
  .report-metrics-container {
    @apply flex-1 space-y-2 sm:space-y-3;
  }

  /* 报告指标项 */
  .report-metric-item {
    @apply space-y-1;
  }

  /* 报告指标标签 */
  .report-metric-label {
    @apply flex justify-between text-[11px] sm:text-[12px] font-bold text-white/70 uppercase tracking-wider;
  }

  /* 报告进度条 */
  .report-progress-bar {
    @apply h-1.5 w-full bg-white/10 rounded-full overflow-hidden border border-white/5;
  }

  /* 报告进度填充 */
  .report-progress-fill {
    @apply h-full bg-gradient-to-r from-[#d4af37]/40 to-[#d4af37] rounded-full shadow-[0_0_8px_rgba(212, 175, 55, 0.4)];
  }

  /* 报告底部信息 */
  .report-bottom-info {
    @apply flex justify-between items-center pt-3 sm:pt-4 border-t border-white/5;
  }

  /* 报告更新时间 */
  .report-update-time {
    @apply text-[11px] sm:text-[12px] text-white/40 font-medium;
  }

  /* 报告详情链接 */
  .report-detail-link {
    @apply flex items-center text-[11px] sm:text-[12px] text-[#d4af37] font-bold gap-1 hover:gap-2 transition-all cursor-pointer;
  }

  .report-footer {
    @apply mt-8 sm:mt-12 pt-4 sm:pt-6 border-t border-white/5 text-center;
  }

  .report-footer-text {
    @apply text-white/20 text-[11px] sm:text-[12px] uppercase tracking-[0.2em];
  }

  /* 数据卡片容器 */
  .data-card {
    @apply p-4 sm:p-6 border border-[#d4af37]/20 rounded-2xl sm:rounded-[32px] flex items-center justify-between transition-all shadow-lg gap-3;
    background-color: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .data-card:hover {
    @apply border-[#d4af37]/40;
  }

  /* 指标卡片内容区域 */
  .metric-content {
    @apply flex items-center gap-3 sm:gap-4 min-w-0 flex-1;
  }

  /* 指标图标容器 */
  .metric-icon-container {
    @apply w-10 h-10 rounded-2xl bg-[#d4af37]/10 flex items-center justify-center text-[#d4af37] shrink-0 border border-[#d4af37]/20;
  }

  /* 指标标签容器 */
  .metric-label-container {
    @apply min-w-0 flex-1;
  }

  /* 指标控制区域 */
  .metric-controls {
    @apply flex items-center gap-2 sm:gap-4 shrink-0;
  }

  /* 数值输入容器 */
  .number-input-container {
    @apply flex items-center gap-1 sm:gap-2 surface-strong rounded-xl p-1 border border-white/5;
  }

  /* 增减按钮 */
  .number-input-btn {
    @apply w-7 h-7 sm:w-8 sm:h-8 rounded-xl surface-weak flex items-center justify-center hover:bg-[#d4af37]/20 transition-all active:scale-90;
  }

  /* 数值输入框 */
  .number-input {
    @apply w-12 sm:w-16 bg-transparent text-center font-normal text-white focus:outline-none text-xl sm:text-2xl placeholder:font-normal;
  }

  /* 单位标签 */
  .unit-label {
    @apply text-white/50 font-bold text-[11px] sm:text-[12px] w-4 sm:w-6;
  }

  /* 页面容器 */
  .page-container {
    @apply space-y-10 pb-20;
    animation: fadeInUp 0.5s ease-out;
  }

  /* 页面头部 */
  .page-header {
    @apply flex justify-between items-center px-2;
  }

  /* 页面标题组 */
  .page-title-group {
    @apply flex flex-col;
  }

  /* 网格布局容器 */
  .grid-container {
    @apply grid grid-cols-1 gap-6 px-2;
  }

  /* 目标卡片 */
  .goal-card {
    @apply p-4 sm:p-6 border border-[#d4af37]/20 rounded-2xl sm:rounded-[32px] transition-all duration-300 relative shadow-lg;
    background-color: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .goal-card:hover {
    @apply border-[#d4af37]/40;
  }

  .goal-card:focus-within {
    @apply border-[#d4af37]/50;
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
  }

  /* 目标卡片头部 */
  .goal-card-header {
    @apply flex justify-between items-start mb-4 gap-2;
  }

  /* 目标图标容器 */
  .goal-icon-container {
    @apply w-8 h-8 rounded-full bg-[#d4af37]/10 flex items-center justify-center shrink-0 border border-[#d4af37]/20;
  }

  /* 目标标题 */
  .goal-title {
    @apply text-sm font-bold text-[#d4af37] uppercase tracking-widest block truncate;
  }

  /* 目标操作按钮组 */
  .goal-actions {
    @apply flex items-center gap-1.5 sm:gap-2 shrink-0;
  }

  /* 语音按钮 */
  .voice-btn {
    @apply p-2 sm:p-2.5 rounded-xl transition-all active:scale-90;
  }

  .voice-btn.active {
    @apply bg-red-500/20 text-red-500 animate-pulse;
  }

  .voice-btn.inactive {
    @apply surface-weak text-white/40 hover:text-white;
  }

  /* 删除按钮 */
  .delete-btn {
    @apply p-2 sm:p-2.5 rounded-xl surface-weak text-white/20 hover:text-red-500 transition-all active:scale-90;
  }

  /* 添加按钮 - 虚线边框 */
  .add-button-dashed {
    @apply w-full py-6 rounded-2xl sm:rounded-[32px] border-2 border-dashed border-white/25 hover:border-[#d4af37]/50 hover:bg-[#d4af37]/10 transition-all flex flex-col items-center justify-center gap-2 relative overflow-hidden;
    background-color: rgba(255, 255, 255, 0.12);
    backdrop-filter: blur(12px);
  }

  .add-button-dashed::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-b from-white/10 to-transparent pointer-events-none;
  }

  /* 添加按钮图标容器 */
  .add-button-icon {
    @apply w-10 h-10 rounded-full surface-weak flex items-center justify-center group-hover:bg-[#d4af37] group-hover:text-black transition-all;
  }

  /* 添加按钮文本 */
  .add-button-text {
    @apply text-[12px] font-bold uppercase tracking-[0.2em] text-white/80 group-hover:text-white transition-colors;
  }

  /* STYKU 输入卡片 */
  .styku-input-card {
    @apply surface-strong border border-white/5 rounded-2xl sm:rounded-[32px] p-4 sm:p-6 flex items-center justify-between shadow-2xl shadow-black/50;
  }

  /* STYKU 输入标签 */
  .styku-input-label {
    @apply text-sm font-bold text-[#d4af37] uppercase tracking-widest whitespace-pre-line leading-tight;
  }

  /* STYKU 输入单位 */
  .styku-input-unit {
    @apply text-[11px] sm:text-[12px] text-white font-bold uppercase tracking-[0.3em] opacity-40;
  }

  /* STYKU 输入框 */
  .styku-input-field {
    @apply bg-transparent text-xl sm:text-2xl font-normal text-white/90 w-full focus:outline-none placeholder:text-white/40 placeholder:font-normal mt-1 sm:mt-2;
    -webkit-tap-highlight-color: transparent;
  }

  /* STYKU 增减按钮容器 */
  .styku-buttons-container {
    @apply flex flex-col gap-2 ml-4;
  }

  /* STYKU 增减按钮 */
  .styku-button {
    @apply w-8 h-8 rounded-full surface-weak border border-white/10 flex items-center justify-center hover:bg-[#d4af37]/20 hover:border-[#d4af37]/40 transition-all active:scale-90 focus:outline-none;
    -webkit-tap-highlight-color: transparent;
  }

  /* 扫描状态容器 */
  .scan-status-container {
    @apply surface-strong h-48 flex flex-col items-center justify-center border border-[#d4af37]/20 relative overflow-hidden rounded-2xl sm:rounded-[32px] mx-2 shadow-2xl shadow-black/50;
  }

  /* 扫描完成容器 */
  .scan-complete-container {
    @apply surface-strong h-48 flex items-center justify-center border border-[#d4af37]/30 rounded-2xl sm:rounded-[32px] relative overflow-hidden mx-2 shadow-2xl shadow-black/50;
  }

  /* 无数据容器 */
  .no-data-container {
    @apply h-48 flex flex-col items-center justify-center border border-white/30 rounded-[32px] mx-2 relative overflow-hidden;
    background-color: rgba(255, 255, 255, 0.12);
    backdrop-filter: blur(12px);
  }

  .no-data-container::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-b from-white/10 to-transparent pointer-events-none;
  }

  /* 章节标题容器 */
  .section-header {
    @apply flex items-center gap-3;
  }

  /* 章节标题装饰线 */
  .section-header-line {
    /* 与 report-section-title（16/20px）同高度 */
    @apply w-1 h-[20px] sm:h-[24px] bg-[#d4af37] rounded-full shrink-0;
  }

  /* 章节标题文本 */
  .section-header-title {
    @apply text-sm font-bold text-[#d4af37] uppercase tracking-widest;
  }

  /* 诊断卡片 */
  .diagnosis-card {
    @apply p-4 sm:p-6 border border-[#d4af37]/20 rounded-2xl sm:rounded-[32px] transition-all duration-300 relative overflow-hidden shadow-lg;
    background-color: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .diagnosis-card:hover {
    @apply border-[#d4af37]/40;
  }

  .diagnosis-card:focus-within {
    @apply border-[#d4af37]/50;
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
  }

  .diagnosis-card.selector-open {
    @apply z-[100];
    overflow: visible !important;
  }

  /* 诊断卡片头部 */
  .diagnosis-card-header {
    @apply flex justify-between items-start mb-4 gap-2;
  }

  /* 标题选择按钮 */
  .title-selector-btn {
    @apply flex items-center gap-2 text-sm font-bold text-[#d4af37] uppercase tracking-widest shrink-0 w-fit truncate max-w-full focus:outline-none;
    -webkit-tap-highlight-color: transparent;
  }

  /* 自定义标题输入容器 */
  .custom-title-container {
    @apply flex items-center gap-2 relative z-[110];
  }

  /* 自定义标题输入框 */
  .custom-title-input {
    @apply surface-strong border border-[#d4af37]/50 text-xs sm:text-sm font-normal text-white uppercase tracking-widest focus:outline-none focus:border-[#d4af37] focus:ring-2 focus:ring-[#d4af37]/20 w-full py-2 sm:py-2.5 px-3 sm:px-4 rounded-xl shadow-2xl;
  }

  /* 标题选择器下拉菜单 */
  .title-selector-dropdown {
    @apply absolute top-full left-0 mt-2 w-48 sm:w-56 bg-[#1a1a1a] border border-white/10 rounded-2xl sm:rounded-[32px] shadow-2xl z-[120] flex flex-col overflow-hidden overscroll-contain;
  }

  /* 等级选择器下拉菜单（更小的宽度，确保能完整显示） */
  .title-selector-dropdown.grade-dropdown {
    width: 5rem;
    /* w-20 = 5rem = 80px */
    min-width: 80px;
    max-height: 180px;
    /* 限制最大高度，确保不超出容器 */
    z-index: 9999 !important;
  }

  /* 等级选择器下拉菜单向上展开时的样式 */
  .title-selector-dropdown.grade-dropdown.bottom-full {
    top: auto !important;
    bottom: 100% !important;
    margin-top: 0 !important;
    margin-bottom: 0.5rem;
  }

  /* 等级选择器滚动容器 - 更小的高度限制，确保不超出容器 */
  .grade-dropdown .dropdown-scroll-container {
    max-height: 200px;
    /* 技能测评 L1-L9 需要更多空间，限制高度确保不超出容器 */
    overflow-y: auto;
    overflow-x: hidden;
  }

  /* 标题选择器选项 */
  .title-selector-option {
    @apply w-full px-3 sm:px-4 py-3 sm:py-4 text-left text-[11px] font-bold text-white/60 hover:bg-[#d4af37] hover:text-black transition-all uppercase tracking-widest border-b border-white/5 last:border-0 focus:outline-none;
    -webkit-tap-highlight-color: transparent;
  }

  /* 自定义标题选项 */
  .title-selector-custom {
    @apply w-full px-3 sm:px-4 py-3 sm:py-4 text-left text-[11px] font-bold text-white bg-[#1a1a1a] hover:bg-white/10 hover:text-white transition-all uppercase tracking-widest border-b border-white/5 sticky top-0 z-10;
  }

  /* 计划指南卡片 */
  .plan-guide-card {
    @apply p-4 sm:p-6 border border-[#d4af37]/20 rounded-2xl sm:rounded-[32px] transition-all duration-300 relative overflow-hidden shadow-lg;
    background-color: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .plan-guide-card:hover {
    @apply border-[#d4af37]/40;
  }

  /* 计划指南图标容器 */
  .plan-guide-icon {
    @apply w-10 h-10 rounded-2xl bg-[#d4af37]/10 flex items-center justify-center text-[#d4af37] flex-shrink-0 border border-[#d4af37]/20;
  }

  /* 计划指南标题 */
  .plan-guide-title {
    @apply text-sm font-bold text-[#d4af37] uppercase tracking-widest mb-1 truncate;
  }

  /* 计划指南描述 */
  .plan-guide-desc {
    @apply text-[11px] font-bold text-white uppercase tracking-[0.3em] opacity-40 leading-relaxed;
  }

  /* 语音按钮激活状态 - 金色主题 */
  .voice-btn.active-gold {
    @apply bg-[#d4af37] text-black shadow-lg shadow-[#d4af37]/20;
  }

  /* 目标战略卡片 */
  .goal-strategic-card {
    @apply flex flex-col items-center justify-center py-8 sm:py-12 surface-strong border border-[#d4af37]/10 rounded-2xl sm:rounded-[32px] mb-6 relative overflow-hidden shadow-2xl shadow-black/50;
  }

  /* 目标战略卡片渐变背景 */
  .goal-strategic-gradient {
    @apply absolute inset-0 bg-gradient-to-b from-[#d4af37]/5 to-transparent;
  }

  /* 目标战略图标容器 */
  .goal-strategic-icon-container {
    @apply w-16 h-16 sm:w-20 sm:h-20 rounded-[28px] sm:rounded-[32px] bg-gradient-to-br from-[#d4af37]/20 to-transparent border border-[#d4af37]/30 flex items-center justify-center shadow-2xl shadow-yellow-500/10 rotate-12;
  }

  /* 目标战略图标边框动画 */
  .goal-strategic-icon-border {
    @apply absolute inset-0 rounded-[28px] sm:rounded-[32px] border border-[#d4af37]/20 rotate-12;
  }

  /* 目标战略标签 */
  .goal-strategic-label {
    @apply text-[11px] sm:text-[12px] font-bold text-[#d4af37] uppercase tracking-[0.4em] mb-2;
  }

  /* 目标战略标题 */
  .goal-strategic-title {
    @apply text-sm sm:text-base font-bold uppercase tracking-widest text-white text-center px-4 sm:px-8;
  }

  /* 目标副标题 */
  .goal-subtitle {
    @apply text-[11px] sm:text-[12px] text-[#d4af37] font-bold uppercase tracking-widest truncate block opacity-40;
  }

  /* 分类标题装饰线 - 左侧 */
  .category-title-line-left {
    @apply h-[2px] w-6 sm:w-8 bg-gradient-to-r from-[#d4af37] to-transparent;
  }

  /* 分类标题 */
  .category-title {
    @apply text-sm sm:text-base font-bold text-[#d4af37] uppercase tracking-[0.2em] sm:tracking-[0.3em] truncate;
  }

  /* 分类标题装饰线 - 右侧 */
  .category-title-line-right {
    @apply h-[1px] flex-1 bg-gradient-to-r from-[#d4af37]/10 to-transparent;
  }

  /* 扫描状态动画线条 */
  .scan-status-animation-line {
    @apply absolute inset-x-0 h-1 bg-gradient-to-r from-transparent via-[#d4af37] to-transparent z-20;
  }

  /* 扫描状态渐变背景 */
  .scan-status-gradient {
    @apply absolute inset-0 bg-gradient-to-b from-[#d4af37]/5 to-transparent;
  }

  /* 处理状态文本 */
  .processing-text {
    @apply text-white text-[12px] font-bold animate-pulse tracking-[0.3em] uppercase;
  }

  /* 系统加密标签 */
  .system-encrypted-label {
    @apply text-[11px] text-[#d4af37] font-bold tracking-[0.2em] uppercase opacity-40;
  }

  /* 数据同步文本 */
  .data-sync-text {
    @apply text-[16px] text-white font-bold mt-4 tracking-[0.2em] uppercase;
  }

  /* 无数据文本 */
  .no-data-text {
    @apply text-[12px] text-white/90 font-bold tracking-[0.2em] uppercase;
  }

  /* 自定义标题取消按钮 */
  .custom-title-cancel-btn {
    @apply text-white/40 hover:text-white transition-colors p-2 shrink-0 surface-weak rounded-xl;
  }

  /* 物理诊断语音按钮 */
  .physical-voice-btn {
    @apply p-2 sm:p-2.5 rounded-xl transition-all active:scale-90;
  }

  .physical-voice-btn.active {
    @apply bg-red-500/20 text-red-500 animate-pulse;
  }

  .physical-voice-btn.inactive {
    @apply surface-weak text-white/40 hover:text-white;
  }

  /* 标准 Textarea 样式 */
  .textarea-standard {
    @apply textarea-dark h-28 text-[12px] font-normal leading-relaxed;
    -webkit-tap-highlight-color: transparent;
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
  }

  .textarea-standard:focus {
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
    border-color: transparent !important;
    -webkit-focus-ring-color: transparent !important;
    -webkit-tap-highlight-color: transparent !important;
  }

  /* 带过渡效果的 Textarea */
  .textarea-standard-transition {
    @apply textarea-dark h-28 text-[12px] font-normal leading-relaxed transition-opacity;
    -webkit-tap-highlight-color: transparent;
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
  }

  .textarea-standard-transition:focus {
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
    border-color: transparent !important;
    -webkit-focus-ring-color: transparent !important;
    -webkit-tap-highlight-color: transparent !important;
  }

  /* 下拉菜单滚动容器 */
  .dropdown-scroll-container {
    @apply overflow-y-auto max-h-48 sm:max-h-60 custom-scrollbar touch-pan-y focus:outline-none;
    -webkit-tap-highlight-color: transparent;
  }

  /* 等级选择器滚动容器 - 更小的高度限制 */
  .grade-dropdown .dropdown-scroll-container {
    max-height: 160px;
    /* 限制高度，确保不超出容器 */
    overflow-y: auto;
  }

  /* Styku 输入内容容器 */
  .styku-input-content {
    @apply flex flex-col gap-1 flex-1 min-w-0;
  }

  /* 增减按钮图标 */
  .icon-plus-minus {
    @apply w-4 h-4 text-[#d4af37];
  }

  /* Sparkles 图标样式 */
  .icon-sparkles {
    @apply text-[#d4af37]/40 shrink-0;
  }

  /* 小图标尺寸 */
  .icon-sm {
    @apply sm:w-4 sm:h-4;
  }

  /* 相对定位容器 */
  .relative-container {
    @apply relative flex-1 min-w-0;
  }

  /* 标题容器列布局 */
  .title-container-col {
    @apply flex flex-col gap-3;
  }

  /* 诊断 Textarea 样式（较矮版本） */
  .textarea-diagnosis {
    @apply textarea-dark text-[12px] min-h-[100px];
    -webkit-tap-highlight-color: transparent;
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
  }

  .textarea-diagnosis:focus {
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
    border-color: transparent !important;
    -webkit-focus-ring-color: transparent !important;
    -webkit-tap-highlight-color: transparent !important;
  }

  /* 居中内容容器 */
  .centered-content-container {
    @apply flex flex-col items-center relative z-10;
  }

  /* 章节标题装饰线 */
  .section-decorative-line {
    @apply w-1 h-4 bg-[#d4af37] rounded-full;
  }

  /* 章节标题文本 */
  .section-title-text {
    @apply text-sm font-bold text-[#d4af37] uppercase tracking-widest;
  }

  /* 操作按钮容器 */
  .action-buttons-container {
    @apply flex items-center gap-1.5 sm:gap-2 shrink-0;
  }

  /* 目标项头部容器 */
  .goal-item-header-container {
    @apply flex items-center gap-2 sm:gap-3 min-w-0;
  }

  /* 返回按钮 */
  .btn-back {
    @apply w-9 h-9 sm:w-10 sm:h-10 rounded-full surface-weak border border-white/10 flex items-center justify-center text-white/60 hover:text-white transition-colors active:scale-90;
  }

  /* 学生信息卡片 */
  .student-info-card {
    @apply relative overflow-hidden rounded-2xl sm:rounded-[32px] text-center border border-[#d4af37]/20 surface-strong;
  }

  /* 学生信息卡片标签 */
  .student-info-label {
    @apply text-[11px] sm:text-xs md:text-sm font-bold text-[#d4af37] mb-0.5 sm:mb-1 uppercase tracking-widest;
  }

  /* 学生信息卡片值 */
  .student-info-value {
    @apply text-xs sm:text-sm font-bold text-white;
  }

  /* 学生头像容器 */
  .student-avatar {
    @apply w-[75px] h-[75px] rounded-full bg-[#d4af37] flex items-center justify-center text-black font-bold shrink-0;
  }

  /* 金色渐变按钮 */
  .btn-gold-gradient {
    @apply bg-gradient-to-r from-[#d4af37] to-[#b8860b] text-black font-bold;
  }

  /* 金色渐变按钮 - 完整样式 */
  .btn-gold-gradient-full {
    @apply bg-gradient-to-r from-[#d4af37] to-[#b8860b] text-black font-bold flex items-center justify-center transition-all;
    box-shadow: 0 20px 40px rgba(212, 175, 55, 0.3);
  }

  /* App.jsx 背景图片样式 */
  .app-background-image {
    background-image: url('https://images.unsplash.com/photo-1535131749006-b7f58c99034b?auto=format&fit=crop&q=80&w=2400');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  /* 动画延迟 - 第二个光晕效果 */
  .animation-delay-negative {
    animation-delay: -4s;
  }

  /* 性能优化 - willChange */
  .will-change-transform-opacity {
    will-change: transform, opacity;
  }

  /* 触摸操作优化 */
  .touch-action-manipulation {
    touch-action: manipulation;
  }

  /* 3D变换容器 */
  .transform-3d-container {
    transform-style: preserve-3d;
    perspective: 1000px;
  }

  /* 3D变换 - 中等深度 */
  .transform-3d-medium {
    transform: translateZ(20px);
    filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.3));
    -webkit-filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.3));
  }

  /* 3D变换 - 浅深度 */
  .transform-3d-shallow {
    transform: translateZ(15px);
    filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.3));
    -webkit-filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.3));
  }

  /* 步骤条进度线 */
  .stepper-progress-line {
    @apply absolute top-[14px] sm:top-[18px] h-[2px] surface -z-10;
    left: 0;
    right: 0;
  }

  /* 3个步骤时的进度条背景线 */
  .stepper-progress-line-3 {
    left: 16.66%;
    right: 16.66%;
  }

  /* 1个步骤时的进度条背景线 */
  .stepper-progress-line-1 {
    left: 50%;
    right: 50%;
  }

  .stepper-active-line {
    @apply absolute top-[14px] sm:top-[18px] h-[2px] bg-[#d4af37] -z-10;
    transition: all 500ms;
    width: 0;
  }

  /* 3个步骤时的激活进度条 */
  .stepper-active-line-3 {
    left: 16.66%;
  }

  .stepper-active-line-3-0 {
    width: 0%;
  }

  .stepper-active-line-3-1 {
    width: 33.33%;
  }

  .stepper-active-line-3-2 {
    width: 66.66%;
  }

  /* 1个步骤时 */
  .stepper-active-line-1 {
    left: 50%;
    width: 0%;
  }
}

/* Logo进度条动画 */
.logo-progress-container {
  position: relative;
  width: 8rem;
  height: 8rem;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 1.5rem;
}

@media (min-width: 640px) {
  .logo-progress-container {
    width: 10rem;
    height: 10rem;
  }
}

.logo-progress-base {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: grayscale(100%) brightness(0.4);
  opacity: 0.7;
}

.logo-progress-fill {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  /* 使用 clip-path 从下到上显示，初始状态完全隐藏 */
  clip-path: inset(100% 0 0 0);
  /* 10秒动画，对应 JS 中的 10秒等待 */
  animation: logoProgressFill 10s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.logo-progress-fill--fast {
  /* 查看报告：2秒走到100% */
  animation: logoProgressFillFast 2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.logo-progress-fill--complete {
  /* 生成完成后补最后5% */
  clip-path: inset(5% 0 0 0);
  animation: logoProgressFillComplete 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes logoProgressFill {
  0% {
    clip-path: inset(100% 0 0 0);
  }

  /* 在动画结束时到达 95% (即 inset 5%)，给最后生成留出 5% 的空间 */
  100% {
    clip-path: inset(5% 0 0 0);
  }
}

@keyframes logoProgressFillFast {
  0% {
    clip-path: inset(100% 0 0 0);
  }

  100% {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes logoProgressFillComplete {
  0% {
    clip-path: inset(5% 0 0 0);
  }

  100% {
    clip-path: inset(0 0 0 0);
  }
}

/* Logo加载光条效果容器 */
.logo-loading-energy {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  /* 关键：使用 logo 作为遮罩，让光条只显示在 logo 图案上 */
  -webkit-mask-image: url('/logo.png');
  mask-image: url('/logo.png');
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;
}

/* 向上加载的光条 */
.logo-loading-stripe {
  position: absolute;
  top: 100%;
  /* 从最底部开始 */
  left: 0;
  right: 0;
  height: 20px;
  background: linear-gradient(to top,
      rgba(255, 255, 255, 0),
      rgba(255, 255, 255, 0.3),
      rgba(255, 255, 255, 0));
  opacity: 0;
  animation: stripeLoadUp 2s linear infinite;
}

.logo-loading-stripe:nth-child(1) {
  animation-delay: 0s;
}

.logo-loading-stripe:nth-child(2) {
  animation-delay: 0.4s;
}

.logo-loading-stripe:nth-child(3) {
  animation-delay: 0.8s;
}

.logo-loading-stripe:nth-child(4) {
  animation-delay: 1.2s;
}

.logo-loading-stripe:nth-child(5) {
  animation-delay: 1.6s;
}

@keyframes stripeLoadUp {
  0% {
    top: 100%;
    opacity: 0;
  }

  20% {
    opacity: 1;
  }

  80% {
    opacity: 1;
  }

  100% {
    top: -20px;
    opacity: 0;
  }
}

/* 动画定义 - 必须在 @layer 外部 */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 标题选择器中的金色细分界线 */
.dropdown-divider-gold-thin {
  @apply h-[1px] w-full;
  background: #d4af37;
  margin: 0;
  opacity: 0.6;
}